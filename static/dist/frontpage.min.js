!function(){var t,e,n={populate_channels:function(e){var o="",a=0;e.sort(n.sortFunction),pre_card=$(t);for(x in e){var i=e[x][3];if(20>a){var r=e[x][1],s=e[x][0],c="background-image:url('https://img.youtube.com/vi/"+r+"/hqdefault.jpg');",l=e[x][4],m=pre_card;m.find(".chan-name").text(i),m.find(".chan-name").attr("title",i),m.find(".chan-views").text(s),m.find(".chan-songs").text(l),m.find(".chan-bg").attr("style",c),m.find(".chan-link").attr("href",i),$("#channels").append(m.html())}o+="<option value='"+i+"'> ",a++}document.getElementById("preloader").style.display="none",document.getElementById("searches").innerHTML=o,$("#channels").fadeIn(800),$("#search").focus()},sortFunction:function(t,e){var n=t[0],o=e[0],a=t[4],i=e[4];return o>n?1:n>o?-1:i>a?1:a>i?-1:0}};String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},$(document).ready(function(){t=$("#channel-list-container").html(),window.list_html=t,$("#channels").empty();var o=io.connect("//"+window.location.hostname+":3000");o.emit("frontpage_lists"),o.on("playlists",function(t){n.populate_channels(t)});var a=0;if(document.getElementById("zicon").addEventListener("click",function(){a+=10,document.getElementById("zicon").style.paddingLeft=a+"%",a>=100&&(window.location.href="https://www.youtube.com/v/0IGsNdVoEh0?autoplay=1&showinfo=0&autohide=1")}),navigator.userAgent.toLowerCase().indexOf("android")>-1&&""==getCookie("show_prompt")){var i=confirm("Do you want to download the native app for this webpage?");if(i)window.location.href="https://play.google.com/store/apps/details?id=no.lqasse.zoff";else{var r=new Date;r.setTime(r.getTime()+864e6);var s="expires="+r.toUTCString();document.cookie="show_prompt=false;"+s}}e=$.ajax({type:"GET",url:"https://api.github.com/repos/zoff-music/zoff/commits",async:!1}).responseText,e=$.parseJSON(e),$("#latest-commit").html("Latest Commit: <br>"+e[0].commit.author.date.substring(0,10)+": "+e[0].committer.login+"<br><a href='"+e[0].html_url+"'>"+e[0].sha.substring(0,10)+"</a>: "+e[0].commit.message+"<br")})}();